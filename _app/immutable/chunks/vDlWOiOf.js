import{t as v,h as c,e as m,g,i as E,j as u,C as b,k as y,m as R,H as T,n as w,o as _,q as N,E as C}from"./b2JcXBQY.js";import{b as p,c as O}from"./BzEXSEHy.js";import{B as k}from"./09fqVy9U.js";function D(l,d,s=!1,r=!1,f=!1){var t=l,o="";v(()=>{var n=g;if(o===(o=d()??"")){c&&m();return}if(n.nodes_start!==null&&(E(n.nodes_start,n.nodes_end),n.nodes_start=n.nodes_end=null),o!==""){if(c){u.data;for(var a=m(),h=a;a!==null&&(a.nodeType!==b||a.data!=="");)h=a,a=y(a);if(a===null)throw R(),T;p(u,h),t=w(a);return}var i=o+"";s?i=`<svg>${i}</svg>`:r&&(i=`<math>${i}</math>`);var e=O(i);if((s||r)&&(e=_(e)),p(_(e),e.lastChild),s||r)for(;_(e);)t.before(_(e));else t.before(e)}})}function F(l,d,...s){var r=new k(l);N(()=>{const f=d()??null;r.ensure(f,f&&(t=>f(t,...s)))},C)}export{D as h,F as s};
